# --------------------------------------------------------------------------------------------
# PS3 Media Server renderer configuration profile for the Philips HTS9520
# 2010 blu-ray Home Theatre System.
# Revision number 1.7
# Tested with HTS9520/12 with firmware V54
# Tested with ps3 media server 1.60.0
# Refer to PS3.conf for help all settings used.
# By Leo from Holland. (leroy on forum)

# Histoy:
# --------------------------------------------------------------------------------------------
# version 1.0  First tested version posted
# version 1.1  Changed "CreateDLNATreeFaster = true" to false (reduced error while browsing)
# version 1.2  "StreamExtensions = mkv" Also divx added, to use the player-abilities,
#              like movie menu and switching between subtitles and audio streams
#              Added lpcm audio to mpegps mpeg2 as an "Supported" audio codec
#              aac audio is tested "ok" with mpegts and mpeg2 video
# version 1.3  According to the Philips specs from "Codec_table_all.zip" some changes:
#              Added mpeg2 to mkv as "Supported" and mpeg1 as an (possible "Supported" codec)
#              Added dts to mpegps (possible "Supported" codec)
#              Added h264 to wmv (possible "Supported" codec)
#              Separated avi/divx. (different support audio and video codec)
#              Added mpeg1 and mpeg2 to avi and divx (possible "Supported" codec)
#              Added mpeg1 and mpeg2 to mp4 (possible "Supported" codec)
#              Added max bitrate mp3 b:327680
#              Added max bitrate wma b:262144 (max tested with a constant bit rate)
# version 1.4  Changes to findings and spelling
# version 1.5  Changes to findings and spelling
#              Changed "MaxVideoBitrateMbps = 0" to "MaxVideoBitrateMbps = 27"
#              (maximum player support with transcoding to MPEGAC3)
# version 1.6  Changes to findings and spelling
#              Added possible other useful settings
#              Shortened code by using gmc:0|1|2
#              Renamed RendererName = Philips Home Cinema to Philips Blu_ray
#              Changed "TranscodeVideo = MPEGAC3" to MPEGTSAC3
#              Changed "MaxVideoBitrateMbps = 27" to "MaxVideoBitrateMbps = 0"
#              (now ff max 4x works with transcoded video)
#              Removed mkv and divx with "StreamExtensions =" and added m2ts
# version 1.7  Changes to findings and spelling
#              Changes because of updated PMS code
#              Renamed this config file to PhilipsHTS 1.7.conf
#              Renamed "RendererName = Philips Blu_ray" to Philips HTS
#              Renamed "RendererIcon = philips hts9520_12.png" to philips-hts.png
#              Added ability to easily use MPEGAC3 for transcoding
#              Added ability to easily give native support for divx plus / full wmv players
#              Removed dv from "Supported" lines
#              Removed tiff as "Supported" format
#              Removed "b:327680" with "f:aac ="

# Possible supported players:
# --------------------------------------------------------------------------------------------
# According the specifications from the "Codec_table_all.xls" downloaded from Philips support,
# this config should be suitable for AVM 2010/2011 HTS and BDP models.
#
# The "AVM 2011 HTS and BDP models" have same native supported codec specifications,
# except additional native suport for .rm .rmvb (Real Media)
#
# The next Philips home theatre systems supports DLNA: (info pdf leaflets)
# HTS5220 , HTS5580 , HTS5590 , HTS9140 , HTS9520 , HTS9540

# Specification Philips HTS9520:
# --------------------------------------------------------------------------------------------
# Taken from leaflet 27.5.9
#
# Audio playback: aac,mp3,wav,wma
# Still picture playback: gif,jpeg,jpeghd,jpegprogressive,png
# Video playback: avchd,avcsd,divx-ultra,mpeg1,mpeg2,mpeg4,wmv-sd
#
# File formats:
# audio: aac,mka,mp3,wma
# picture: gif,jpeg,jpg
# video: asf,avi,divx,mkv,mp4,mpeg,mpg,wmv
#
# Sound system:
# dolby digital 5.1
# dolby digital plus
# dolby true hd
# dts 96/24
# dts digital suround
# dts es
# dts-hd high resolution audio
# dts-hd master resolution
#
# Constant bitrate:
# mp3: 112 kbps - 320 kbps
# wma: 48 kbps - 192 kbps
#
# Taken from manual:
# audio sampling frequency:
# mp3: 32 kHz, 44,1 kHz, 48 kHz
# wma: 44,1 kHz, 48 kHz

# Philips forum:
# --------------------------------------------------------------------------------------------
# The HTS9520 supports the following External subtitle formats native: (USB only!)
# microdvd.sub
# substationalpha.ssa
# substationalpha.ass
# subrip.srt
# *.txt (from microdvd)

# Connection info:
# --------------------------------------------------------------------------------------------
# User-agent obtained from the debug.log file:
# HTTP User-Agent: IPI/1.0 UPnP/1.0 DLNADOC/1.50
#
# Additional information obtained with the "Device Sniffer for UPnP Technologies" program:
#
# M-SEARCH * HTTP/1.1
# HOST: 239.255.255.250:1900
# MAN: "ssdp:discover"
# MX: 3
# ST: ssdp:all
#
# This is the SSDP Discover Service.
# This service apears every 30 seconds.

# Protocol info:
# --------------------------------------------------------------------------------------------
# I wasn't able to read out the protocol info (mime-types) of the HTS9520 with the
# "Device spy for UPnP Technologies" program.
#
# To find the correct mime types for this player (the ones used with the "Supported" lines),
# I searched the Internet for mime-type lists, and tried to apply these.

# Findings:
# --------------------------------------------------------------------------------------------
# Information about the native supported codec can be downloaded
# from the philips supportforum. http://www.supportforum.philips.com (Codec_table_all.xls)
# --------------------------------------------------------------------------------------------
# The browser of the HTS9520 is quite unstable and crashes easily,
# and gives next error on TV screen: "F:Error Reading File"
# This bug is very annoying, because if the browser crashes,
# you have to browse from the root page again.
# By hiding the virtual folders #--TRANSCODE--# and #Video Settings# (default hided),
# the browser is more stabile.
#
# The browser also crashes if the folder content is changed while the player is used,
# and you browse into that folder.
# --------------------------------------------------------------------------------------------
# Annoying is that if the #--TRANSCODE--# folder is enabled,
# this virtual directory is placed under the first media file.
# This first media file can only be played, by browsing to the previous or next folders,
# until the desired file is out of sight, and than back.
# After this refresh (whereby hopefully the browser not crashes) the #--TRANSCODE--# folder,
# is placed above the first media file and this file can be played.
#
# If the priority for audio and subtitle language is set correctly, the #--TRANSCODE--# folder
# is not needed for selecting the desired audio/subtitles and this issue is solved.
# Just add a tick to "Hide #--TRANSCODE--# Folder" in the "Navigation/Share Settings" tab
# --------------------------------------------------------------------------------------------
# While browsing, every mediafile that is not native supported, (or contains a subtitle)
# and therefore needs transcoding, start transoding before this media file is played.
# This takes couple of seconds (transcoding buffer fills) and than this stops.
# --------------------------------------------------------------------------------------------
# The fastest way to (re)connect is by restarting the server.
# By (re)starting the player, it is possible there is a delay of max 3 minutes for connection.
# --------------------------------------------------------------------------------------------
# The HTS9520 is divx-ultra and wmv-sd certified!
# Therefore is the maximum supported resolution of avi/divx native limited to 720×576,
# and wmv1/wmv2 to 1280×720.
# If you uses this config with a player that supports DivX Plus / wmv full (1920x1080),
# you can use the deprecated "Supported" lines.
# --------------------------------------------------------------------------------------------
# Only embedded (No external like .srt) subtitles like UTF-8, ASS, RLE (DVD-Video),
# are native supported through DLNA.
# From PMS 1.50.2 (SB64) it's possible with mkv to use the player abilities with the
# #--transcode--# folder by selecting [no encoding].
# --------------------------------------------------------------------------------------------
# mpeg-4 audio files need the .m4a file extension to play native.
# With the .mp4 extension these are seen as a mp4 video file.
# --------------------------------------------------------------------------------------------
# Matroska audio (.mka) is supported with usb, unfortunately I wasn't able to make it
# works native with this config file. (transcoding works fine)
# --------------------------------------------------------------------------------------------
# The only thumbnails that works and therfore visible are some,
# mp3 files with an embedded cover image.
# A small on the right of the browser and a bigger one while playing.
# Those mp3 files have the format version 1 and profile layer 3 audio codec.
# Unfortunately not all of these files with a cover included gives a thumbnail.
# Here MediaInfo output for 3 different files where only one has a working thumbnail:
#
# No thumbnail:               No thumbnail:        Thumbnail works:
# Cover      : Yes            Cover      : Yes     Cover      : Yes
# Cover type : Cover (front)  Cover MIME : JPG     Cover MIME : image/jpeg
# Cover MIME : image/jpeg
#
# I guess the "Cover MIME" type in the file has to be "image/jpeg" and not "JPG",
# and that it can not contain a "cover type".
# --------------------------------------------------------------------------------------------
# The following codec are NOT native supported by the HTS9520 with my test files.
# They are not excludable within the defining of the "Supported" formats.
# So unfortunately they are played incorrect and not (auto) transcoded.
#
# (only mpeg4 asp is supported native according Philips specs from Codec_table_all)
#
# video:
# avi mpeg-4 visual with FMP4 codec id and simple@L1 format profile.
# avi mpeg-4 visual with MPG4 codec id.
# avi mpeg-4 visual with MP42 codec id.
# avi mpeg-4 visual with MP43 codec id.
# avi mpeg-4 visual with UMP4 codec id.
# mp4 mpeg-4 visual with 20   codec id and simple@L1 format profile.
# wmv mpeg-4 visual with MP42 codec id.
# mov mpeg-4 quickTime with avc (h.264) and format profile main@L4.1
# wmv2 (windows media video 8) works only native from 640x480 and 23.976 fps.
# mkv avc (h.264) with format profile main@L5.1 , high@L4.0 and high@L5.1
#
# audio:
# wma version 1
# wma voice
# wma pro
# wav with dts

# Setup:
# --------------------------------------------------------------------------------------------
RendererName = Philips HTS
RendererIcon = philips-hts.png

# Renderer recognition:
# --------------------------------------------------------------------------------------------
# HTTP User-Agent: IPI/1.0 UPnP/1.0 DLNADOC/1.50
UserAgentSearch = IPI

# No additional additional HTTP header known.
UserAgentAdditionalHeader =
UserAgentAdditionalHeaderSearch =

# Config settings:
# --------------------------------------------------------------------------------------------
# Enables the use of "Supported" to more accurately define the supported formats,
# for the renderer and faster browsing.
MediaInfo = true

# --------------------------------------------------------------------------------------------
# With "SeekByTime = false" it is also possible to use the on screen menu "seek by time",
# with native supported avi video files.
SeekByTime = false

# --------------------------------------------------------------------------------------------
# HTS9520 supported codec for video transcoding: MPEGAC3 , MPEGTSAC3
# With MPEGAC3 it's not always possible to fast-forward and no rewind,
# and "MaxVideoBitrateMbps = 27" is needed,
# but slightly more video files are correctly played.
# With MPEGTSAC3 fast-forward (4x max) works great with transcoded video but no rewind.

TranscodeVideo = MPEGTSAC3
MaxVideoBitrateMbps = 0

# REMOVE "#" with next 2 lines and ADD "#" to the 2 lines above if you want to use MPEGAC3.
#TranscodeVideo = MPEGAC3
#MaxVideoBitrateMbps = 27

# --------------------------------------------------------------------------------------------
# On HTS9520 supported codec for audio Transcoding: MP3 , LPCM , WAV
TranscodeAudio = WAV

# --------------------------------------------------------------------------------------------
# Ignored if "MediaInfo = true":
MuxH264ToMpegTS = true
MuxDTSToMpeg = true
MuxLPCMToMpeg = true
MimeTypesChanges = audio/wav = audio/x-wav | audio/x-m4a = audio/mp4

# --------------------------------------------------------------------------------------------
# Best left empty if "MediaInfo = true": (Overrides the programed "Supported" lines)
TranscodeExtensions =
StreamExtensions = m2ts

# Media renderer capabilities:
# --------------------------------------------------------------------------------------------
Video = true
Audio = true
Image = true
DLNALocalizationRequired = false
DefaultVBVBufSize = false
TranscodeAudioTo441kHz = false
WrapDTSIntoPCM = true
ChunkedTransfer = false
TranscodeFastStart = false
TranscodedVideoFileSize = 0
ShowDVDTitleDuration = true
H264Level41Limited = true
AutoExifRotate = false

# Used "ForceJPGThumbnails = false" because the player support jpg, png and gif native.
# Although NO thumbnails visible.
ForceJPGThumbnails = false

# (The browser is more stabile with false)
CreateDLNATreeFaster = false

# --------------------------------------------------------------------------------------------
# Ignored for files matching "Supported" formats.
MaxVideoWidth = 1920
MaxVideoHeight = 1080

# Possible other useful params:
# --------------------------------------------------------------------------------------------
# ShowAudioMetadata = true
# ShowSubMetadata = true
# UseSameExtension =
# DLNAProfileChanges =
# DLNAOrgPN = true
# MediaParserV2_ThumbnailGeneration = false
# CustomMencoderQualitySettings = keyint=5:vqscale=1:vqmin=3:vqmax=5
# CustomMencoderOptions =

# Supported formats:
# --------------------------------------------------------------------------------------------
# Here is programed the player native support.
# The "Supported" will only be used if "MediaInfo = true".
# "ok" will mean that I have tested this codec combination.
# "?" will mean that I have no test files with this codec, but according the,
# Codec_table_all.xls it is native supported.

# [Supported video formats:]
# --------------------------------------------------------------------------------------------
# mpegps with mp3 audio is not supported with my test files.
# =====================ok====ok======ok==ok==ok===?==
Supported = f:mpegps v:mpeg1|mpeg2 a:mpa|ac3|lpcm|dts m:video/mpeg

# --------------------------------------------------------------------------------------------
# Both mime types works with mpegts: video/vnd.dlna.mpeg-tts , video/mpeg
# The HTS9520 gives a TSF addition to mpegts files.
# eac3 is not supported.
# =====================ok====ok===ok==?=====ok===ok==ok==ok==ok==?======?====
Supported = f:mpegts v:mpeg2|h264|vc1|mp4 a:lpcm|ac3|dts|mpa|aac|truehd|dtshd m:video/mpeg

# --------------------------------------------------------------------------------------------
# The HTS9520 is divx ultra certified.
# The maximum "Supported" resolution of avi and divx is therefore limited to 720×576.
#
# .avi qpel and gmc test:
# HTS9520 ok      qpel yes gmc 2  .avi divx (divx 5)
# HTS9520 ok      qpel no  gmc 2  .avi divx (divx 5)
# HTS9520 ok      qpel yes gmc no .avi mp4  (xvid asp l5)
# HTS9520 NOT ok  qpel no  gmc 3  .avi mp4  (xvid asp l5)
# HTS9520 NOT ok  qpel yes gmc 3  .avi mp4  (xvid asp l5)
# (xvid offer 3-warp-point gmc, which is not supported)
#
# avi with vc1 video is not supported with my test files.
# Mime types working with avi and divx: video/avi , video/x-ms-avi , video/x-msvideo
# ==================ok===ok==ok===?=====?===================ok===ok==ok==ok==ok==?==
Supported = f:avi v:divx|mp4|h264|mpeg1|mpeg2 w:720 h:576 a:lpcm|ac3|mpa|mp3|wma|dts m:video/x-msvideo gmc:0|1|2
#
# REMOVE "#" with next line if your player support avi with full HD resolution (1920x1080).
#Supported = f:avi v:divx|mp4|h264|mpeg1|mpeg2 a:lpcm|ac3|mpa|mp3|wma|dts m:video/x-msvideo gmc:0|1|2

# --------------------------------------------------------------------------------------------
# None of my tested files with the divx format have qpel or gmc.
# ===================ok===?===?=====?===================ok==ok==?====?===?==
Supported = f:divx v:divx|mp4|mpeg1|mpeg2 w:720 h:576 a:ac3|mp3|lpcm|mpa|wma m:video/x-msvideo
#
# REMOVE "#" with next line if your player support DivX Plus (1920x1080).
#Supported = f:divx v:divx|mp4|mpeg1|mpeg2 a:ac3|mp3|lpcm|mpa|wma m:video/x-msvideo

# --------------------------------------------------------------------------------------------
# mp4 with lpcm audio is not supported.
# mime type video/h264 can not be used for mp4.
# Both mime types works for mp4: video/quicktime , video/mp4
# ==================ok==ok===?=====?=======ok==ok==ok==?==
Supported = f:mp4 v:mp4|h264|mpeg1|mpeg2 a:ac3|aac|mp3|mpa m:video/mp4

# --------------------------------------------------------------------------------------------
# mov with mp3 audio is not supported.
# mov with lpcm audio is not supported.
# mov mpeg4 quicktime with xvid video format is not supported.
# Mime type video/h264 can not be used for mov.
# Both mime types works for mov: video/quicktime , video/mp4
# ==================ok==ok=====ok==?===?==
Supported = f:mov v:mp4|h264 a:aac|ac3|mpa m:video/mp4

# --------------------------------------------------------------------------------------------
# wmv with vc1 or mp4 video are native supported up to 1920x1080
# Both mime types works for wmv: video/wmv , video/x-ms-wmv
# ==================ok==ok==?======ok==ok==ok==
Supported = f:wmv v:vc1|mp4|h264 a:wma|mp3|lpcm s:48000 m:video/x-ms-wmv
#
# The maximum native supported resolution of wmv1 and wmv2 is 1280×720. (wmv-sd)
# ==================ok=================ok==ok==ok==
Supported = f:wmv v:wmv w:1280 h:720 a:wma|mp3|lpcm s:48000 m:video/x-ms-wmv
#
# REMOVE "#" with next line if your player support wmv1/wmv2 with full HD resolution.
#Supported = f:wmv v:wmv a:wma|mp3|lpcm s:48000 m:video/x-ms-wmv

# --------------------------------------------------------------------------------------------
# None of my tested mkv files works with truehd or eac-3 audio.
# Maximum resolution of mkv with mp4,divx (and probably mpeg1,mpeg2) is limited to 1280×720.
# mkv with mp4 video and advanced simple@l5 profile is native supported up 1920x1080,
# but this profile is unfortunately not separate to define with the "Supported" lines.
# ==================ok==ok===ok====?====================ok===ok==ok==ok==ok==ok==?===?====
Supported = f:mkv v:mp4|divx|mpeg2|mpeg1 w:1280 h:720 a:lpcm|ac3|dts|mpa|mp3|aac|wma|dtshd m:video/x-matroska
#
# REMOVE "#" with next line if your player support all mkv files with full HD resolution.
#Supported = f:mkv v:mp4|divx|mpeg2|mpeg1 a:lpcm|ac3|dts|mpa|mp3|aac|wma|dtshd m:video/x-matroska

# mkv with h264 or vc1 video is native suported up to 1920x1080
# ==================ok===ok====ok===ok==ok==ok==ok==ok==?===?====
Supported = f:mkv v:h264|vc1 a:lpcm|ac3|dts|mpa|mp3|aac|wma|dtshd m:video/x-matroska

# [Supported audio formats]:
# --------------------------------------------------------------------------------------------
# Mime types audio/wav , audio/L16 can NOT be used for wav.
# ============ok====ok=
Supported = f:wav a:mp3 n:2 s:48000 b:327680 m:audio/x-wav
# ============ok====ok==
Supported = f:wav a:lpcm n:2 s:48000 b:1445069 m:audio/x-wav

# --------------------------------------------------------------------------------------------
# ============ok==ok=
Supported = f:mpa|mp3 n:2 s:48000 b:327680 m:audio/mpeg

# --------------------------------------------------------------------------------------------
# wma with 256 Kbps const bitrate tested.
# ============ok====ok=
Supported = f:wma a:wma n:2 s:48000 b:262144 m:audio/x-ms-wma

# --------------------------------------------------------------------------------------------
# Next mime types works for m4a and mp4 with aac: audio/3gpp , audio/3gpp2 , audio/mp4
# mp4 audio files must have the .m4a file extension.
# alac is not supported.
# ============ok====ok=
Supported = f:mp4 a:aac s:48000 b:327680 m:audio/mp4
# ============ok====ok=
Supported = f:aac a:aac s:48000 m:audio/mp4

# --------------------------------------------------------------------------------------------
# ============ok=====ok==
Supported = f:aiff a:lpcm n:2 s:48000 b:1445069 m:audio/L16

# --------------------------------------------------------------------------------------------
# My Tested adts audio files are badly parsed. NO tested line:
# Supported = f:adts a:aac s:48000 m:audio/vnd.dlna.adts

# [Supported image formats]:
# --------------------------------------------------------------------------------------------
# Unfortunately no preview thumbnail of image files visible.
Supported = f:jpg m:image/jpeg
Supported = f:png m:image/png
Supported = f:gif m:image/gif
# -------------------------------------- end of config ---------------------------------------